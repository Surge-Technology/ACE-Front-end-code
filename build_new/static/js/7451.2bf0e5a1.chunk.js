"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7451],{17451:function(t,e,a){a.r(e),a.d(e,{default:function(){return j}});var n=a(1413),r=a(29439),i=a(72791),d=a(84951),o=a(30212),s=a(77710),c=a(21830),l=a.n(c),u=a(59513),m=a.n(u),h=a(72426),f=a.n(h),x=a(57689),D=a(80184),Y={StaffAttandList:[],totalPages:"",currentPage:"",loader:!1,startDate:"",endDate:"",SummaryORhours:"summary"};function j(){var t=(0,i.useState)(Y),e=(0,r.Z)(t,2),a=e[0],c=e[1],u=a.StaffAttandList,h=(a.totalPages,a.currentPage,a.loader),j=a.startDate,y=a.endDate,g=a.SummaryORhours,S=(0,x.s0)(),Z=function(t,e){"startDate"===t&&c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{startDate:e})})),"endDate"===t&&c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{endDate:e})}))},p=function(t){return(0,D.jsx)(D.Fragment,{children:parseFloat(t).toFixed(2)})},F=function(t,e){return null!==t&&void 0!==t?f()(t,["HH:mm"]).format("hh:mm a"):""};return(0,i.useEffect)((function(){var t=new Date,e=f()(t).startOf("month"),a=f()(t).endOf("month");s.Z.get("/staff-attendance/summary/".concat(e.format("YYYY-MM-DD"),"/").concat(a.format("YYYY-MM-DD"))).then((function(t){c((function(r){return(0,n.Z)((0,n.Z)({},r),{},{startDate:e.toDate(),endDate:a.toDate(),StaffAttandList:t.data,loader:!1,SummaryORhours:"hours"})}))})).catch((function(t){l().fire(t.response.data.message,"Please try again "),c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))}))}),[]),(0,D.jsxs)(D.Fragment,{children:[h?(0,D.jsx)(d.$j,{className:"loaderr",color:"primary",children:"Loading..."}):null,(0,D.jsxs)(d.eW,{className:"cardbg",children:[(0,D.jsx)("h4",{children:(0,D.jsx)("b",{children:"Staff Attendance List"})}),(0,D.jsx)("div",{className:"height15"}),(0,D.jsxs)(d.X2,{children:[(0,D.jsxs)(d.JX,{md:3,children:[(0,D.jsx)(d.__,{children:"Start Date"}),(0,D.jsx)(m(),{name:"startDate",selected:j?new Date(j):null,onChange:function(t){return Z("startDate",t)},placeholderText:"mm/dd/yyyy"})]}),(0,D.jsxs)(d.JX,{md:3,children:[(0,D.jsx)(d.__,{children:"End Date"}),(0,D.jsx)(m(),{selected:y,onChange:function(t){return Z("endDate",t)},placeholderText:"mm/dd/yyyy",minDate:j})]}),(0,D.jsx)(d.JX,{md:1,style:{marginTop:"30px"},children:(0,D.jsx)(d.zx,{type:"button",onClick:function(){!function(){if(""!==j&&""!==y){c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!0})}));var t=f()(j).format("YYYY-MM-DD"),e=f()(y).format("YYYY-MM-DD");s.Z.get("/staff-attendance/summary/".concat(t,"/").concat(e)).then((function(t){c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{StaffAttandList:t.data,loader:!1,SummaryORhours:"hours"})}))})).catch((function(t){l().fire(t.response.data.message,"Please try again "),c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))}))}else l().fire("Field is required")}()},children:"Hours"})}),(0,D.jsx)(d.JX,{md:2,style:{marginTop:"30px"},children:(0,D.jsx)(d.zx,{type:"button",onClick:function(){!function(){if(""!==j&&""!==y){c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!0})}));var t=f()(j).format("YYYY-MM-DD"),e=f()(y).format("YYYY-MM-DD");s.Z.get("/staff-attendance/".concat(t,"/").concat(e)).then((function(t){c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{StaffAttandList:t.data,loader:!1,SummaryORhours:"summary"})}))})).catch((function(t){l().fire(t.response.data.message,"Please try again "),c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))}))}else l().fire({position:"center",icon:"warning",title:"Please Enter Some Date",showConfirmButton:!1,timer:1500})}()},children:"Summary"})}),(0,D.jsx)(d.JX,{md:1,style:{marginTop:"30px"},children:(0,D.jsx)(d.zx,{type:"button",onClick:function(){return S("/dashboard")},children:"Back"})})]}),(0,D.jsx)("hr",{}),(0,D.jsx)(d.X2,{children:(0,D.jsx)(d.JX,{children:"summary"===g?(0,D.jsxs)(o.c8,{data:u,hover:!0,multiColumnSearch:!0,version:"4",search:!0,children:[(0,D.jsx)(o.bY,{width:"160",dataField:"name",dataSort:!0,isKey:!0,children:"Name"}),(0,D.jsx)(o.bY,{width:"130",dataField:"date",dataFormat:function(t){return(0,D.jsx)(D.Fragment,{children:f()(t).format("MM/DD/YYYY")})},dataSort:!0,children:"Date"}),(0,D.jsx)(o.bY,{width:"100",dataField:"checkInTime",dataFormat:F,dataSort:!0,children:"Check In Time"}),(0,D.jsx)(o.bY,{width:"100",dataField:"checkOutTime",dataFormat:F,dataSort:!0,children:"Check Out Time"}),(0,D.jsx)(o.bY,{width:"120",dataField:"totalWorkingHours",dataFormat:p,dataSort:!0,children:"Total Hours"})]}):(0,D.jsxs)(o.c8,{data:u,hover:!0,multiColumnSearch:!0,version:"4",search:!0,children:[(0,D.jsx)(o.bY,{width:"50",dataAlign:"center",dataField:""}),(0,D.jsx)(o.bY,{width:"100",dataAlign:"left",dataField:"name",dataSort:!0,isKey:!0,children:"Name"}),(0,D.jsx)(o.bY,{width:"100",dataAlign:"left",dataField:"totalHoursInDateRange",dataFormat:p,dataSort:!0,children:"Total Hours"})]})})})]})]})}}}]);
//# sourceMappingURL=7451.2bf0e5a1.chunk.js.map