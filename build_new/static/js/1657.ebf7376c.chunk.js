"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1657],{31657:function(e,a,t){t.r(a);var r=t(1413),n=t(29439),i=t(72791),s=t(57689),c=t(11087),o=t(84951),l=t(30212),d=t(63263),u=t(21830),h=t.n(u),m=t(72426),f=t.n(m),p=t(80184);a.default=function(){var e=(0,i.useState)({permissionsList:[],totalPages:"",currentPage:"",loader:!1,permissions:{canCreate:!0,canView:!0,canUpdate:!0,canDelete:!0}}),a=(0,n.Z)(e,2),t=a[0],u=a[1],m=t.permissionsList,j=(t.totalPages,t.currentPage,t.loader),x=t.permissions,g=(0,s.s0)();(0,i.useEffect)((function(){var e=localStorage.getItem("userid");d.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),d.Z.get("".concat("http://3.136.240.37:9090/api/v1/","auth/users/").concat(e)).then((function(e){var a=e.data.roles?e.data.roles[0].permissions:null;u((function(e){return(0,r.Z)((0,r.Z)({},e),{},{permissions:a})}))})).catch((function(e){})),d.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),d.Z.get("".concat("http://3.136.240.37:9090/api/v1/","auth/roles")).then((function(e){u((function(a){return(0,r.Z)((0,r.Z)({},a),{},{permissionsList:e.data,loader:!1})}))})).catch((function(e){h().fire(e.response?e.response.data.message:null,"Please try again later")}))}),[]);return(0,p.jsxs)(p.Fragment,{children:[" ",j?(0,p.jsx)(o.$j,{className:"loaderr",color:"primary",children:"Loading..."}):null,(0,p.jsxs)(o.eW,{className:"cardbg",children:[(0,p.jsxs)(o.X2,{children:[(0,p.jsx)(o.JX,{children:(0,p.jsx)("h4",{children:(0,p.jsx)("strong",{children:"Roles Permissions "})})}),(0,p.jsx)(o.JX,{children:x.canCreate?(0,p.jsx)(o.zx,{outline:!0,color:"info",size:"sm",className:"buttonfloat",onClick:function(){return g("/permissions/create/new")},children:"Add Role "}):null})]}),(0,p.jsx)(o.X2,{children:(0,p.jsx)(o.JX,{children:(0,p.jsxs)(o.Zb,{children:[(0,p.jsxs)(l.c8,{data:m,keyField:"sno",search:!0,striped:!0,hover:!0,multiColumnSearch:!0,version:"4",children:[(0,p.jsx)(l.bY,{width:"100",dataAlign:"left",dataField:"sno",dataFormat:function(e,a,t,r){return(0,p.jsx)(p.Fragment,{children:r+1})},dataSort:!0,children:"S No"}),(0,p.jsx)(l.bY,{width:"160",dataField:"roleName",dataSort:!0,children:"Role Name"}),(0,p.jsx)(l.bY,{width:"100",dataField:"creationDate",dataFormat:function(e){return(0,p.jsx)(p.Fragment,{children:f()(e).format("MM/DD/YYYY")})},children:"Creation Date"}),(0,p.jsx)(l.bY,{width:"160",dataField:"createdBy",dataSort:!0,children:"Created By"}),(0,p.jsx)(l.bY,{width:"160",dataField:"createdBy",dataFormat:function(e,a){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("span",{children:x.canUpdate?(0,p.jsx)(c.rU,{id:a.id,to:"/permissions/edit/".concat(a.id),children:(0,p.jsx)("i",{className:"fa fa-pencil",id:"pencilspace","aria-hidden":"true"})}):null})})},children:"Action"})]}),(0,p.jsx)(o.iR,{})]})})}),(0,p.jsx)(o.X2,{})]})]})}}}]);
//# sourceMappingURL=1657.ebf7376c.chunk.js.map