"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7313],{97313:function(t,e,a){a.r(e),a.d(e,{default:function(){return Y}});var n=a(1413),r=a(29439),c=a(72791),d=a(84951),o=a(30212),i=a(77710),s=a(21830),l=a.n(s),u=a(59513),h=a.n(u),f=a(72426),D=a.n(f),m=a(57689),x=a(80184),j={StudentAttandList:[],totalPages:"",currentPage:"",loader:!1,startDate:"",endDate:""};function Y(){var t=(0,c.useState)(j),e=(0,r.Z)(t,2),a=e[0],s=e[1],u=a.StudentAttandList,f=a.contractListData,Y=(a.filteredContracts,a.totalPages,a.currentPage,a.loader),g=a.startDate,S=a.endDate,p=(0,m.s0)();(0,c.useEffect)((function(){var t=new Date,e=D()(t).startOf("month"),a=D()(t).endOf("month");i.Z.get("/dashboard/all-contract?".concat(e.format("YYYY-MM-DD"),"&endDate=").concat(a.format("YYYY-MM-DD"))).then((function(t){console.log("res",t),s((function(r){return(0,n.Z)((0,n.Z)({},r),{},{startDate:e.toDate(),endDate:a.toDate(),StudentAttandList:t.data.contractDtos,loader:!1})}))})).catch((function(t){l().fire(t.response.data.message,"Please try again "),s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))}))}),[]);var b=function(t,e){"startDate"===t&&s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{startDate:e})})),"endDate"===t&&s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{endDate:e})}))};return(0,x.jsxs)(x.Fragment,{children:[Y?(0,x.jsx)(d.$j,{className:"loaderr",color:"primary",children:"Loading..."}):null,(0,x.jsxs)(d.Zb,{children:[(0,x.jsx)("i",{className:"fa fa-arrow-circle-left dashicon","aria-hidden":"true",onClick:function(){return p("/dashboard")}}),(0,x.jsxs)(d.eW,{className:"cardbg",children:[(0,x.jsx)("h4",{children:(0,x.jsx)("b",{children:"Contract Details List"})}),(0,x.jsx)("div",{className:"height15"}),(0,x.jsxs)(d.X2,{children:[(0,x.jsxs)(d.JX,{md:3,children:[(0,x.jsx)(d.__,{children:"Start Date"}),(0,x.jsx)(h(),{name:"startDate",selected:g,onChange:function(t){return b("startDate",t)},placeholderText:"mm/dd/yyyy"})]}),(0,x.jsxs)(d.JX,{md:3,children:[(0,x.jsx)(d.__,{children:"End Date"}),(0,x.jsx)(h(),{selected:S,onChange:function(t){return b("endDate",t)},placeholderText:"mm/dd/yyyy",minDate:g})]}),(0,x.jsx)(d.JX,{md:2,style:{marginTop:"30px"},children:(0,x.jsx)(d.zx,{type:"button",onClick:function(){!function(){if(""!==g&&""!==S){s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!0})}));var t=D()(g).format("YYYY-MM-DD"),e=D()(S).format("YYYY-MM-DD");i.Z.get("/dashboard/all-contract?startDate=".concat(t,"&endDate=").concat(e)).then((function(a){var r=u.filter((function(a){var n=D()(a.startDate).format("YYYY-MM-DD"),r=D()(a.endDate).format("YYYY-MM-DD");return n>=t&&r<=e}));s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{contractListData:r.map((function(t){return{name:t.contractPromotion.name,fee:t.pricing.fee,totalFee:t.pricing.total,contractStatus:t.contractStatus,startDate:t.startDate,endDate:t.endDate,creationDate:t.creationDate}})),loader:!1})}))})).catch((function(t){l().fire(t.response.data.message,"Please try again "),s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))})),console.log("StudentAttandList",f)}else l().fire({position:"center",icon:"warning",title:"Please Enter Some Date",showConfirmButton:!1,timer:1500})}()},children:"Search"})}),(0,x.jsx)(d.JX,{md:2,style:{marginTop:"30px"},children:(0,x.jsx)(d.zx,{type:"button",onClick:function(){return p("/dashboard")},children:"Back"})})]}),(0,x.jsx)("hr",{}),(0,x.jsx)(d.X2,{children:(0,x.jsx)(d.JX,{children:(0,x.jsxs)(o.c8,{data:f,hover:!0,multiColumnSearch:!0,version:"4",search:!0,children:[(0,x.jsx)(o.bY,{width:"140",dataField:"name",dataSort:!0,isKey:!0,children:"Name"}),(0,x.jsx)(o.bY,{width:"120",dataField:"fee",dataSort:!0,children:"fee"}),(0,x.jsx)(o.bY,{width:"120",dataField:"totalFee",ddataSort:!0,children:"Total Fee"}),(0,x.jsx)(o.bY,{width:"100",dataField:"contractStatus",dataSort:!0,children:"Contract Status"}),(0,x.jsx)(o.bY,{width:"100",dataField:"startDate",dataSort:!0,children:"Start Date"}),(0,x.jsx)(o.bY,{width:"100",dataField:"endDate",dataSort:!0,children:"End Date"}),(0,x.jsx)(o.bY,{width:"100",dataField:"creationDate",dataSort:!0,children:"Created Date"})]})})})]})]})]})}}}]);
//# sourceMappingURL=7313.d77a036e.chunk.js.map