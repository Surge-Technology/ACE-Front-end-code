"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2360],{2360:function(t,e,a){a.r(e),a.d(e,{default:function(){return j}});var n=a(1413),r=a(29439),i=a(72791),o=a(84951),s=a(30212),c=(a(77710),a(21830)),d=a.n(c),l=a(59513),u=a.n(l),h=a(72426),m=a.n(h),f=a(57689),D=a(63263),x=a(80184),y={inquiryList:[],totalPages:"",currentPage:"",loader:!1,startDate:"",endDate:""};function j(){var t=(0,i.useState)(y),e=(0,r.Z)(t,2),a=e[0],c=e[1],l=a.inquiryList,h=(a.totalPages,a.currentPage,a.loader),j=a.startDate,Y=a.endDate,p=(0,f.s0)();(0,i.useEffect)((function(){var t=new Date,e=m()(t).startOf("month"),a=m()(t).endOf("month");D.Z.get("".concat("http://3.136.240.37:9090/api/v1/api","/dashboard/inquiry?startDate=").concat(e.format("YYYY-MM-DD"),"&endDate=").concat(a.format("YYYY-MM-DD"))).then((function(t){c((function(r){return(0,n.Z)((0,n.Z)({},r),{},{startDate:e.toDate(),endDate:a.toDate(),inquiryList:t.data.inquiryDtos,loader:!1})})),console.log("startDate--",e.format("YYYY-MM-DD")),console.log("endDate---",a.format("YYYY-MM-DD"))})).catch((function(t){d().fire(t.response.data.message,"Please try again "),c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))}))}),[]);var g=function(t,e){"startDate"===t&&c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{startDate:e})})),"endDate"===t&&c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{endDate:e})}))};return(0,x.jsxs)(x.Fragment,{children:[h?(0,x.jsx)(o.$j,{className:"loaderr",color:"primary",children:"Loading..."}):null,(0,x.jsxs)(o.Zb,{children:[(0,x.jsx)("i",{className:"fa fa-arrow-circle-left dashicon","aria-hidden":"true",onClick:function(){return p("/dashboard")}}),(0,x.jsxs)(o.eW,{className:"cardbg",children:[(0,x.jsx)("h4",{children:(0,x.jsx)("b",{children:"Inquiry Details List"})}),(0,x.jsx)("div",{className:"height15"}),(0,x.jsxs)(o.X2,{children:[(0,x.jsxs)(o.JX,{md:3,children:[(0,x.jsx)(o.__,{children:"Start Date"}),(0,x.jsx)(u(),{name:"startDate",selected:j,onChange:function(t){return g("startDate",t)},placeholderText:"mm/dd/yyyy"})]}),(0,x.jsxs)(o.JX,{md:3,children:[(0,x.jsx)(o.__,{children:"End Date"}),(0,x.jsx)(u(),{selected:Y,onChange:function(t){return g("endDate",t)},placeholderText:"mm/dd/yyyy",minDate:j})]}),(0,x.jsx)(o.JX,{md:2,style:{marginTop:"30px"},children:(0,x.jsx)(o.zx,{type:"button",onClick:function(){!function(){if(""!==j&&""!==Y){c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!0})}));var t=m()(j).format("YYYY-MM-DD"),e=m()(Y).format("YYYY-MM-DD");D.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),D.Z.get("".concat("http://3.136.240.37:9090/api/v1/api","/dashboard/inquiry?startDate=").concat(t,"&endDate=").concat(e)).then((function(t){200===t.status||201===t.status?c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{inquiryList:t.data.inquiryDtos,loader:!1})})):c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))})).catch((function(t){c((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loader:!1})}))}))}else d().fire({position:"center",icon:"warning",title:"Please Enter Some Date",showConfirmButton:!1,timer:1500})}()},children:"Search"})}),(0,x.jsx)(o.JX,{md:2,style:{marginTop:"30px"},children:(0,x.jsx)(o.zx,{type:"button",onClick:function(){return p("/dashboard")},children:"Back"})})]}),(0,x.jsx)("hr",{}),(0,x.jsx)(o.X2,{children:(0,x.jsx)(o.JX,{children:(0,x.jsxs)(s.c8,{data:l,hover:!0,multiColumnSearch:!0,version:"4",search:!0,children:[(0,x.jsx)(s.bY,{width:"140",dataField:"firstName",dataFormat:function(t,e){return(0,x.jsx)("span",{children:e?"".concat(e.firstName," ").concat(e.lastName):null})},dataSort:!0,isKey:!0,children:"Name"}),(0,x.jsx)(s.bY,{width:"160",dataField:"email",dataSort:!0,children:"Email"}),(0,x.jsx)(s.bY,{width:"110",dataField:"phone",dataSort:!0,children:"Phone"}),(0,x.jsx)(s.bY,{width:"110",dataField:"inquiryServices",dataFormat:function(t,e){return(0,x.jsx)("span",{children:e.inquiryServices?e.inquiryServices.name:null})},dataSort:!0,children:" Services"}),(0,x.jsx)(s.bY,{width:"110",dataField:"inquiryStatus",dataFormat:function(t,e){return(0,x.jsx)("span",{children:e.inquiryStatus?e.inquiryStatus.name:null})},dataSort:!0,children:" Status"}),(0,x.jsx)(s.bY,{width:"110",dataField:"inquiryType",dataFormat:function(t,e){return(0,x.jsx)("span",{children:e.inquiryType?e.inquiryType.name:null})},dataSort:!0,children:" Type"}),(0,x.jsx)(s.bY,{width:"120",dataField:"creationDate",dataFormat:function(t){return(0,x.jsx)(x.Fragment,{children:m()(t).format("MM/DD/YYYY")})},dataSort:!0,children:"Created Date"})]})})})]})]})]})}}}]);
//# sourceMappingURL=2360.66d208db.chunk.js.map